## CHAMBER.py ##
import os
import commands


#intialized the report format 
report={
'Name':"NIL",
'Mobile information':{
    'Number':"NIL",
    'country':"NIL",
    'ISP':"NIL",
},
'Email Information':{
    "id":"NIL",
},
'Personal Information':{
    'DOB':"NIL",
    'Parents Name':"NIL",
    'Native':"NIL",
    'Known language':"NIL",
    'Education':"NIL"
},
'Social Platform Information':
    {'Facebook':{
        'profile_id':"NIL",
        'No of friends':"NIL"
    },
    'Twitter':{
        'user_id':"NIL",
        'tweets':"NIL",
        'tweets with media':"NIL",
        'followers':"NIL",
        'following':"NIL"
        
    },
    'Linkedin':{
        'skills':"NIL",
        'connections':"NIL",
        'experience':"NIL"
    },
    'Instagram':{
        'Instagram id':"NIL", 
        'media':"NIL"
    }
    }  
}

class module():
    def instagram(self):
        instagram_id=raw_input("Enter the instagram id: ")
        os.system("instagram-scraper "+instagram_id)  
        report['Social Platform Information']['Instagram']['Instagram id']=instagram_id
        os.system("cd "+instagram_id)

    
        val=os.getcwd()
        for root,dirs,files in os.walk(instagram_id):
            val=val+"/"+root
        report['Social Platform Information']['Instagram']['media']=val
        print(report['Social Platform Information']['Instagram']['media'])
        
    def find_twitter_id(self):
        id=raw_input("Enter the twitter id: ")
        self.twitter(id)

    def exe_commands(self,id,option):
        s=commands.getstatusoutput("twint -u "+id+" "+option)
        c=s[1].split("\n")
        
        try:
            for i in range(0,len(c)-1):
                if c[i] == "CRITICAL:root:twint.feed:Follow:IndexError":
                    c.remove(i)
        except:
            pass            
        
        return ''.join(c)
    def twitter(self,twitter_id):

        try:
            report['Social Platform Information']['Twitter']['user_id']=twitter_id
        except:
            pass
        try:
            report['Social Platform Information']['Twitter']['tweets']=self.exe_commands(twitter_id," ")
        except:
            pass  
        try:          
            report['Social Platform Information']['Twitter']['tweets with media']=self.exe_commands(twitter_id,"--media")
        except:
            pass
        try:
            report['Social Platform Information']['Twitter']['followers']=self.exe_commands(twitter_id,"--followers")
        except:
            pass
        try:            
            report['Social Platform Information']['Twitter']['following']=self.exe_commands(twitter_id,"--following")
        except:
            pass
        return 

    def facebook(self,facebook_user_profile_details):
        print "Please visit %s profile" % facebook_user_profile_details
        report['Social Platform Information']['Facebook']['profile_id']=facebook_user_profile_details
        report['Social Platform Information']['Facebook']['No of friends']=raw_input("Enter No of friends for this user: ")
        report['Personal Information']['DOB']=raw_input("Enter the DOB: ")
        report['Personal Information']['Parents Name']=raw_input("Enter the Parents Name : ")
        report['Personal Information']['Native']=raw_input("Enter the Native Places : ")
        report['Personal Information']['Known language']=raw_input("Enter the Known Language : ")
        report['Personal Information']['Education']=raw_input("Enter the Education Background : ")

    def linkedin(self):
        
        report['Social Platform Information']['Linkedin']['skills']=raw_input(" Enter the skills : ")
        report['Social Platform Information']['Linkedin']['connections']=raw_input(" Enter the connections : ")
        report['Social Platform Information']['Linkedin']['experience']=raw_input(" Enter the experience : ")

    def messenger(self,number):
        print("check with Android messenger app",number)
        fb_id=raw_input("Enter the fb_id of this mobile number: ")
        self.facebook(fb_id)
        return      
    
    
class user_report():
    def user_report(self,report):
        print(report)
        file_name=report['Name']

        f=open(file_name,"w")

        f.write("Name : "+report['Name'])

        ###########################################################################
        f.write("\nMobile information\n")
        f.write("\t\tNumber :")
        f.write(report['Mobile information']['Number'])
        #f.write("\t\tCountry :\n")
        #f.write("\t\tISP :\n")

        ###########################################################################
        f.write("\n\nEmail Information\n\n")
        f.write("\t\tID :")
        f.write(report['Email Information']['id'])
        ########################################################################### 
        f.write("\n\nPersonal Information\n\n")
        f.write("\t\tDOB : ")
        f.write(report['Personal Information']['DOB'])
        f.write("\n\t\tParents Name : ")
        f.write(report['Personal Information']['Parents Name'])
        f.write("\n\t\tNative Place : ")
        f.write(report['Personal Information']['Native'])
        f.write("\n\t\tKnown Languages : ")
        f.write(report['Personal Information']['Known language'])
        f.write("\n\t\tEducation : ")
        f.write(report['Personal Information']['Education'])


        ###########################################################################    
        f.write("\n\nSocial Platform Information\n\n")
        
        f.write("\t\tFacebook :\n")
        f.write("\n\t\t\tProfile_id : ")
        f.write(report['Social Platform Information']['Facebook']['profile_id'])
        f.write("\n\t\t\tNo of friends : ")
        f.write(report['Social Platform Information']['Facebook']['No of friends'])
        #--------------------------------------------------------------------------
        f.write("\n\n\t\tTwitter :\n")
        f.write("\n\t\t\tuser_id : ")
        f.write(report['Social Platform Information']['Twitter']['user_id'])
        f.write("\n\t\t\ttweets :\n")
        f.write(report['Social Platform Information']['Twitter']['tweets'])
        f.write("\n\t\t\ttweets with media :\n")
        f.write(report['Social Platform Information']['Twitter']['tweets with media'])
        f.write("\n\t\t\tfollowers :\n")
        f.write(report['Social Platform Information']['Twitter']['followers'])
        f.write("\n\t\t\tfollowing :\n\n")
        f.write(report['Social Platform Information']['Twitter']['following'])
        #--------------------------------------------------------------------------
        f.write("\t\tLinkedin :\n")
        f.write("\n\t\t\tskills :")
        f.write(report['Social Platform Information']['Linkedin']['skills'])
        f.write("\n\t\t\tconnections :")
        f.write(report['Social Platform Information']['Linkedin']['connections'])
        f.write("\n\t\t\texperience :")
        f.write(report['Social Platform Information']['Linkedin']['experience'])
        #--------------------------------------------------------------------------
        f.write("\n\n\t\tInstagram :\n\n")
        f.write("\n\t\t\tInstagram Id :")
        f.write(report['Social Platform Information']['Instagram']['Instagram id'])
        f.write("\n\t\t\tMedia :")
        try:
            f.write(report['Social Platform Information']['Instagram']['media'])
        except:
            f.write("Media Access blocked as the Account is private")
        f.write("\n\nDocument Ends\n")

        
        f.close()


class user_details():
    def user_details(self):
        fh=open("/root/Chamber/user-input.txt","r")
        user_input=[]
        user=[]
        read=fh.readlines()
        for i in read:
            input=i.split("\n")
            input.pop(len(input)-1)
            user_input.append(input)
            for i in user_input:
                for x in i:
                    l=x.split("#")
                    l.pop(len(l)-1)
                    user.append(l)
        return user
def banner():

    print('''
       (       )                   )                
   )\   ( /(     )     )    ( /(    (   (       
 (((_)  )\()) ( /(    (     )\())  ))\  )(   (  
 )\___ ((_)\  )(_))   )\  '((_)\  /((_)(()\  )\ 
((/ __|| |(_)((_)_  _((_)) | |(_)(_))   ((_)((_)
 | (__ | ' \ / _` || '  \()| '_ \/ -_) | '_|(_-<
  \___||_||_|\__,_||_|_|_| |_.__/\___| |_|  /__/

  ''' )


if __name__ == "__main__":
    
    #calling the banner
    banner()
    
    #initiliaze the obj for classes
    module=module()
    user_report=user_report()
    user_details=user_details()


    s=user_details.user_details()

    report['Name']=s[0][0]


    m=report['Mobile information']['Number']=s[0][2]

    e=report['Email Information']['id']=s[0][1]

    report={'Mobile information': {'country': None, 'ISP': None, 'Number': '9790665457'}, 'Email Information': {'id': 'maneesh@gmail.com'}, 'Name': 'Maneeesh', 'Personal Information': {'DOB': '8_7_1994', 'Education': '10-GHS,12-Calicut GHS', 'Known language': 'English,tamil,malayalamyam', 'Parents Name': 'krishna kumar,sharatha', 'Native': 'calicut'}, 'Social Platform Information': {'Twitter': {'tweets': ['1154833962599997440 2019-07-26 12:20:47 PDT <maneesh67914816> Nature at its  best !!! pic.twitter.com/UcxJGr1TDb', '1154833457383559168 2019-07-26 12:18:46 PDT <maneesh67914816> happy weekend to all', '1154833245999005696 2019-07-26 12:17:56 PDT <maneesh67914816> hi friends, How are you all', '1154833161542520832 2019-07-26 12:17:36 PDT <maneesh67914816> hacathon', '1154833124578086912 2019-07-26 12:17:27 PDT <maneesh67914816> hiii', '1154833100125265920 2019-07-26 12:17:21 PDT <maneesh67914816> my second tweet', '1154833020257370112 2019-07-26 12:17:02 PDT <maneesh67914816> my first tweet'], 'followers': ['CRITICAL:root:twint.feed:Follow:IndexError'], 'tweets with media': ['1154833962599997440 2019-07-26 12:20:47 PDT <maneesh67914816> Nature at its  best !!! pic.twitter.com/UcxJGr1TDb'], 'user_id': '@maneesh67914816', 'following': ['CRITICAL:root:twint.feed:Follow:IndexError', 'LalithaRavi7', 'imVkohli', 'TheAlishaChinai', 'narendramodi', 'AthulyaOfficial', 'Chinmayi', 'sachin_rt']}, 'Facebook': {'profile_id': 'Maneesh Krishna', 'No of friends': '1043'}, 'Instagram': {'media': '/root/Chamber/maneesh_krishna'}, 'Linkedin': {'skills': 'python,c', 'connections': '230', 'experience': '3 years'}}}


    #Processing the input with Modules
   # module.messenger(m)
   # module.linkedin()
   # module.find_twitter_id()
   # module.instagram()
   # 
   # #print the report 
   # user_report.user_report(report)
#
   # os.system("cat "+report['Name'])
#
   # print("Triggering sms bomb to target user with phishing link")
#
    link="http://tiny.cc/fAce"
   
    
    arg=str(report['Social Platform Information']['Facebook']['profile_id'])+"  Suspicious Activity detected in your Facebook Account. Click the link to verify your Facebook Account "+link
    print(arg)
    #print(os.system("python sms.py "+arg))
    print("Phishing Attack Triggered !!! \n")
    print("waiting for the password .....\n")  
    print("check at /var/www/html/phishing/user-data.txt file on terminal :)\n")   
